@model Avidclan_Website.Models.BlogViewModel

@{
    ViewBag.Title = "Blog";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

@section AdditionalMeta
{
    <title>Avidclan Technologies Blog: Latest Insights on Web and Mobile App Development</title>
    <meta name="description" content="Discover the latest news, valuable tips, and insightful content on web and mobile app development, IoT, QA, and Internet marketing in the Avidclan blog. Stay ahead of the curve." />
    <link rel="canonical" href="https://www.avidclan.com/blog/" />
    <link rel="stylesheet" href="~/assets/css/Avidclan/blog.css" />
}

<link href="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.5/dist/quill.snow.css" rel="stylesheet" />
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>*@
<script src="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.5/dist/quill.js"></script>

<section class="banner-section-two pt-5">
    <div class="container">
        <div class="content-box">
            <div class="row">
                <div class="col-md-12 col-lg-8 d-flex align-items-center">
                    <div class="pl-2">
                        <h1>Our <span class="primary-color">Blog</span></h1>
                        <div class="text mb-0">
                            Avidclan Technologies is a renowned and leading web and mobile app development company with a vision to fulfill
                            business requirements using innovative solutions. We assist our clients in a way that they can
                            provide a superior digital experience for their clients worldwide.
                        </div>
                    </div>
                </div>
                <div class="image col-md-12 col-lg-4 text-center">
                    <img src="~/assets/images/Blog post-amico 1.svg" alt="dot-net-img">
                </div>
            </div>
        </div>
    </div>
</section>
<!--End Banner Section -->
<div class="loader"></div>
<!-- Blog Section -->
<section class="blog-section">
    <div class="container">
        <h3 class="fs-3 primary-color text-center mb-4">Blog Categories</h3>

        <!-- Chevron + Scrollable Category Buttons -->
        <div class="position-relative mb-5 d-flex align-items-center">
            <!-- Left Chevron -->
            <div class="chevron-left">
                <img src="~/assets/images/blog/Chevron_left_blog_cat.svg" alt="Left" />
            </div>

            <!-- Scrollable Button Wrapper -->
            <!-- Wrapper with limited width -->
            <div class="w-100 d-flex justify-content-center">
                <!-- Scrollable category container -->
                <div class="d-flex flex-nowrap overflow-auto px-2 category-scroll-container" id="category-buttons-scroll" style="scroll-behavior: smooth;">
                    <div class="d-flex gap-2" id="category-buttons">
                        <button class="category-btn active" data-category="all">All</button>
                        <button class="category-btn" data-category=".NET Development">.NET Development</button>
                        <button class="category-btn" data-category="Flutter App Development">Flutter App Development</button>
                        <button class="category-btn" data-category="Artificial Intelligence">Artificial Intelligence</button>
                        <button class="category-btn" data-category="UI/UX Design">UI/UX Design</button>
                        <button class="category-btn" data-category="Software Development">Software Development</button>
                        <button class="category-btn" data-category=".NET MAUI">.NET MAUI</button>
                        <button class="category-btn" data-category="Angular Development">Angular Development</button>
                        <button class="category-btn" data-category="Mobile Application Development">Mobile App Development</button>
                        <button class="category-btn" data-category="Data Analytics">Data Analytics</button>
                        <button class="category-btn" data-category="iOS App Development">iOS App Development</button>
                        <button class="category-btn" data-category="ReactJS Development">ReactJS Development</button>
                        <button class="category-btn" data-category="Web Development">Web Development</button>
                        <button class="category-btn" data-category="Chatbot and Conversational AI">Chatbot and Conversational AI</button>
                        <button class="category-btn" data-category="Machine Learning">Machine Learning</button>
                        <button class="category-btn" data-category="React Native">React Native</button>
                        <button class="category-btn" data-category="Automation Testing">Automation Testing</button>
                        <button class="category-btn" data-category="Azure Development">Azure Development</button>
                        <button class="category-btn" data-category="Selenium Automation Testing">Selenium Automation Testing</button>
                        <button class="category-btn" data-category="ASP.NET Development">ASP.NET Development</button>
                        <button class="category-btn" data-category="Cloud Development">Cloud Development</button>
                        <button class="category-btn" data-category="Predictive Analytics">Predictive Analytics</button>
                    </div>
                </div>
            </div>


            <!-- Right Chevron -->
            <div class="chevron-right">
                <img src="~/assets/images/blog/Chevron_Right_blog_cat.svg" alt="Right" />
            </div>
        </div>

        <!-- Blog Grid -->
        <div class="blog-grid-wrap">
            <div class="row" id="demo">
                <!-- Blogs will be dynamically inserted here -->
            </div>
        </div>

        <!-- Blog Pagination -->
        <div class="blog-pagination">
            <ul class="pagination justify-content-center" id="pagination" style="margin-top: 70px;"></ul>
        </div>
    </div>
</section>

<!-- ✅ CSS -->
<!-- ✅ Script -->
@*<script>
        // Sample blog data (replace with dynamic content if needed)
        const blogs = [
            { title: "How to scale your ecommerce store", category: "ecommerce" },
            { title: "Latest Web Dev Trends 2025", category: "webdev" },
            { title: "Inside Our Culture", category: "culture" },
            { title: "News Update – Company Growth", category: "news" },
            { title: "UI/UX Principles", category: "uiux" },
            { title: "Mobile App Evolution", category: "mobile" },
            { title: "Knowledge: APIs vs SDKs", category: "knowledge" },
        ];

        function renderBlogs(category = "all") {
            const filtered = category === "all" ? blogs : blogs.filter(b => b.category === category);
            const html = filtered.map(blog => `
                <div class="col-md-4 mb-4 blog-item" data-category="${blog.category}">
                    <div class="card shadow-sm p-3">
                        <h5>${blog.title}</h5>
                        <p class="mb-0 text-muted text-capitalize">Category: ${blog.category}</p>
                    </div>
                </div>
            `).join("");
            $("#demo").html(html);
        }

        function updateChevronVisibility() {
            const scrollEl = document.getElementById('category-buttons-scroll');
            const scrollLeft = scrollEl.scrollLeft;
            const scrollWidth = scrollEl.scrollWidth;
            const clientWidth = scrollEl.clientWidth;

            if (scrollLeft <= 0) {
                $('.chevron-left').hide();
            } else {
                $('.chevron-left').show();
            }

            if (scrollLeft + clientWidth >= scrollWidth - 1) {
                $('.chevron-right').hide();
            } else {
                $('.chevron-right').show();
            }
        }

        $(document).ready(function () {
            renderBlogs();

            $(".category-btn").on("click", function () {
                $(".category-btn").removeClass("active");
                $(this).addClass("active");

                const selectedCategory = $(this).data("category");
                renderBlogs(selectedCategory);
            });

            // Chevron scroll logic
            $('.chevron-left').on('click', function () {
                $('#category-buttons-scroll').animate({ scrollLeft: '-=200' }, 300, updateChevronVisibility);
            });

            $('.chevron-right').on('click', function () {
                $('#category-buttons-scroll').animate({ scrollLeft: '+=200' }, 300, updateChevronVisibility);
            });

            // Scroll detection
            $('#category-buttons-scroll').on('scroll', updateChevronVisibility);

            // Initial visibility
            updateChevronVisibility();
        });
    </script>*@



<section class="lets-talk">
    <div class="container">
        <div class="inner-block">
            <div class="row align-items-center">
                <div class="col-md-12 col-lg-8 col-xl-7">
                    <div class="sec-title mb-0">
                        <p class="m-1">Require a solution to your software problems?</p>
                        <h2>Want to get in touch?</h2>
                        <div>
                            <span class="b-txt"><b>Have an idea?</b></span> Do you need some help with it? Avidclan Technologies would love
                            to help you! Kindly click on ‘Contact Us’ to reach us and share your query.
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-4 col-xl-5 text-center text-lg-end">
                    <div class="btn-box mt-lg-0 mt-4">
                        <a href="/contact-us/" class="btn btn-secondary bg-white position-relative fw-bold rounded-5 overflow-hidden align-middle text-capitalize custom-btn-padding">
                            <span class="btn-title">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ion me-2" width="25" height="25" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512" data-icon="ion:call-sharp" data-height="25">
                                    <path fill="currentColor" d="M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75c-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63c-6.78 5.81-6.78 5.81-12.33 4c-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34c.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52c-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87a322.4 322.4 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72c31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.7 337.7 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56a3.9 3.9 0 0 0-.86-3.86">
                                    </path>
                                </svg>Contact Us
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@Html.Partial("_FooterWith190")


<script type="text/javascript">
    var selectedBlogType = window.location.pathname.split('/').pop();
    if (!selectedBlogType || selectedBlogType === "blog" || selectedBlogType === "Blog") {
        selectedBlogType = "all";
    }

    let currentPageNumber = 1;

    $(document).ready(function () {
        GetSectionData(1, selectedBlogType);
        updateChevronVisibility();

        $(".category-btn").on("click", function () {
            $(".category-btn").removeClass("active");
            $(this).addClass("active");

            selectedBlogType = $(this).data("category");
            GetSectionData(1, selectedBlogType);
        });

        $(".chevron-left").click(function () {
            let scrollAmount = window.innerWidth >= 992 ? 750 : 150;
            $("#category-buttons-scroll").animate({ scrollLeft: `-=${scrollAmount}` }, 300, updateChevronVisibility);
        });

        $(".chevron-right").click(function () {
            let scrollAmount = window.innerWidth >= 992 ? 750 : 150;
            $("#category-buttons-scroll").animate({ scrollLeft: `+=${scrollAmount}` }, 300, updateChevronVisibility);
        });

        $("#category-buttons-scroll").on("scroll", updateChevronVisibility);
    });

    $(window).on("resize", function () {
        clearTimeout(window.resizedFinished);
        window.resizedFinished = setTimeout(function () {
            GetSectionData(currentPageNumber, selectedBlogType);
        }, 200);
    });

    function updateChevronVisibility() {
        var container = document.getElementById("category-buttons-scroll");
        var scrollLeft = container.scrollLeft;
        var maxScrollLeft = container.scrollWidth - container.clientWidth;

        var $leftChevron = $(".chevron-left");
        var $rightChevron = $(".chevron-right");
        var $scrollContainer = $("#category-buttons-scroll");

        var showLeft = scrollLeft > 5;
        var showRight = scrollLeft < maxScrollLeft - 5;

        $leftChevron.toggle(showLeft);
        $rightChevron.toggle(showRight);

        var marginLeft = showLeft ? "26px" : "0";
        var marginRight = showRight ? "26px" : "0";
        $scrollContainer.css({ "margin-left": marginLeft, "margin-right": marginRight });
    }

    function GetSectionData(page, blogType) {
        currentPageNumber = page;

        let url = blogType === "all"
            ? `/Avidclan/GetSectionData?page=${page}`
            : `/Avidclan/GetSectionDataByBlogTypePaginated?BlogType=${encodeURIComponent(blogType)}&page=${page}`;

        $.ajax({
            type: "GET",
            url: url,
            contentType: 'application/json; charset=utf-8',
            dataType: "json",
            success: function (data) {
                $("#demo").html("");
                var sectionblog = "";
                var paginationData = "";

                $.each(data.data.ListBlog, function (k, v) {
                    var options = { year: 'numeric', month: 'long', day: 'numeric' };
                    var PostingDate = new Date(v.PostingDate);
                    var longDt = PostingDate.toLocaleDateString("en-US", options);
                    var Descriptionlength = v.MetaDescription.length > 80 ? v.MetaDescription.substring(0, 80) + "…" : v.MetaDescription;

                    sectionblog += `
                        <div class="col-lg-4 col-md-6">
                            <div class="single-blog">
                                <div class="blog-img img img-fluid">
                                    <a href="/blog/${v.PageUrl}"><img class="BlogImages" src="${v.Image}" alt="" style="height:216px;"></a>
                                    <div class="top-meta">
                                        <span class="tag" style="font-style: normal;">${v.BlogType}</span>
                                    </div>
                                </div>
                                <div class="blog-content">
                                    <div class="blog-meta">
                                        <span><i class="fas fa-user"></i> <a style="font-style: normal;" href="#">${v.PostedBy}</a></span>
                                        <span id="admindateid_${v.Id}" style="font-style: normal;"><i class="far fa-calendar-alt"></i> ${longDt}</span>
                                    </div>
                                    <h1 class="title blog-title"><a href="/blog/${v.PageUrl}" style="font-style: normal;">${v.Title}</a></h1>
                                    <p class="blog-meta-desc">${Descriptionlength}</p>
                                </div>
                                <div class="blog-btn">
                                    <a href="/blog/${v.PageUrl}" class="blog-btn-link" style="font-style: normal;">
                                        Read Full Article <i class="fas fa-long-arrow-alt-right"></i>
                                    </a>
                                </div>
                            </div>
                        </div>`;
                });

                $('#demo').html(sectionblog);
                $('.loader')?.hide();

                // Responsive Pagination
                if (data.data.pager && data.data.pager.TotalPages > 1) {
                    const isMobile = window.innerWidth < 768;
                    const maxPagesToShow = isMobile ? 3 : 7;

                    let currentPage = data.data.pager.CurrentPage;
                    let totalPages = data.data.pager.TotalPages;

                    let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));
                    let endPage = startPage + maxPagesToShow - 1;

                    if (endPage > totalPages) {
                        endPage = totalPages;
                        startPage = Math.max(1, endPage - maxPagesToShow + 1);
                    }

                    paginationData += '<ul class="pagination justify-content-center">';

                    if (currentPage > 1) {
                        let prevPage = currentPage - 1;
                        paginationData += `<li class="page-item"><a class="page-link" href="javascript:void(0);" onclick="GetSectionData(${prevPage}, '${blogType}')"><i class="fas fa-chevron-left"></i></a></li>`;
                    }

                    for (let i = startPage; i <= endPage; i++) {
                        let active = i === currentPage ? "active" : "";
                        paginationData += `<li class="page-item ${active}"><a class="page-link" href="javascript:void(0);" onclick="GetSectionData(${i}, '${blogType}')">${i}</a></li>`;
                    }

                    if (currentPage < totalPages) {
                        let nextPage = currentPage + 1;
                        paginationData += `<li class="page-item"><a class="page-link" href="javascript:void(0);" onclick="GetSectionData(${nextPage}, '${blogType}')"><i class="fas fa-chevron-right"></i></a></li>`;
                    }

                    paginationData += '</ul>';
                }

                $('#pagination').html(paginationData);
            },
            error: function () {
                alert("Error occurred while fetching blogs!");
            }
        });
    }
</script>

